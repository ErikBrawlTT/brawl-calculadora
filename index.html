<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Calculadora Brawl</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background: linear-gradient(135deg, #1a1a1a, #2a003f);
      color: white;
    }

    h1 {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      font-size: 2.5rem;
      background: linear-gradient(90deg, #00ffcc, #ff00ff, #00ccff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 20px;
    }

    h1 .diamond {
      font-size: 2.5rem;
      animation: diamondGlow 1.5s infinite alternate;
    }

    @keyframes diamondGlow {
      0% { text-shadow: 0 0 5px #ff00ff, 0 0 10px #ff00ff; color:#ff00ff; }
      25% { text-shadow: 0 0 5px #00ffcc, 0 0 10px #00ffcc; color:#00ffcc; }
      50% { text-shadow: 0 0 5px #00ccff, 0 0 10px #00ccff; color:#00ccff; }
      75% { text-shadow: 0 0 5px #ffcc00, 0 0 10px #ffcc00; color:#ffcc00; }
      100% { text-shadow: 0 0 5px #ff00ff, 0 0 10px #ff00ff; color:#ff00ff; }
    }

    .chart-container {
      position: relative;
      width: 300px;
      margin: 0 auto;
    }

    #brawlerImage {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 100px;
      height: 100px;
      object-fit: contain;
      display: none;
      animation: spin 6s linear infinite;
    }

    @keyframes spin {
      from { transform: translate(-50%, -50%) rotate(0deg); }
      to { transform: translate(-50%, -50%) rotate(360deg); }
    }

    .buttons {
      margin-top: 20px;
      display: flex;
      justify-content: center;
      gap: 12px;
      flex-wrap: wrap;
    }

    button {
      padding: 10px 20px;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      font-size: 1rem;
      color: white;
      transition: transform 0.2s;
    }

    button:hover {
      transform: scale(1.05);
    }

    #calcBtn { background: linear-gradient(45deg, #00ffcc, #00ccff); }
    #clearBtn { background: linear-gradient(45deg, #ff0066, #ff6600); }
    #shareBtn { background: linear-gradient(45deg, #0066ff, #9900ff); }
    #valueBtn { background: linear-gradient(45deg, #00cc44, #33ff77); margin-top: 15px; }
  </style>
</head>
<body>

  <h1>
    <span class="diamond">ðŸ’Ž</span>
    Calculadora Brawl
    <span class="diamond">ðŸ’Ž</span>
  </h1>

  <div class="chart-container">
    <canvas id="myChart"></canvas>
    <img id="brawlerImage" src="" alt="Brawler">
  </div>

  <div class="buttons">
    <button id="calcBtn">Calcular</button>
    <button id="clearBtn">Limpiar</button>
    <button id="shareBtn">Compartir</button>
  </div>
  <button id="valueBtn">Valor Total</button>

  <script>
    const ctx = document.getElementById('myChart').getContext('2d');
    let myChart = null;

    const brawlerImage = document.getElementById("brawlerImage");

    // LISTA COMPLETA DE BRAWLERS
    const brawlers = [
      "brawlers/shelly.png",
      "brawlers/colt.png",
      "brawlers/nita.png",
      "brawlers/elprimo.png",
      "brawlers/bull.png",
      "brawlers/jessie.png",
      "brawlers/brock.png",
      "brawlers/dynamike.png",
      "brawlers/tick.png",
      "brawlers/8bit.png",
      "brawlers/emz.png",
      "brawlers/stu.png",
      "brawlers/rosa.png",
      "brawlers/barley.png",
      "brawlers/poco.png",
      "brawlers/rico.png",
      "brawlers/darryl.png",
      "brawlers/penny.png",
      "brawlers/carl.png",
      "brawlers/jackie.png",
      "brawlers/gus.png",
      "brawlers/bo.png",
      "brawlers/piper.png",
      "brawlers/pam.png",
      "brawlers/frank.png",
      "brawlers/bibi.png",
      "brawlers/bea.png",
      "brawlers/nani.png",
      "brawlers/edgar.png",
      "brawlers/griff.png",
      "brawlers/grom.png",
      "brawlers/bonnie.png",
      "brawlers/gale.png",
      "brawlers/surge.png",
      "brawlers/colette.png",
      "brawlers/lou.png",
      "brawlers/belle.png",
      "brawlers/squeak.png",
      "brawlers/ash.png",
      "brawlers/lola.png",
      "brawlers/fang.png",
      "brawlers/chester.png",
      "brawlers/r-t.png",
      "brawlers/willow.png",
      "brawlers/clancy.png",
      "brawlers/corvo.png",
      "brawlers/leon.png",
      "brawlers/sandy.png",
      "brawlers/amber.png",
      "brawlers/meg.png",
      "brawlers/chuck.png",
      "brawlers/janet.png",
      "brawlers/mortis.png",
      "brawlers/tara.png",
      "brawlers/gene.png",
      "brawlers/max.png",
      "brawlers/mr-p.png",
      "brawlers/sprout.png",
      "brawlers/byron.png",
      "brawlers/sam.png",
      "brawlers/otis.png"
    ];

    function calcular() {
      // si ya hay un grÃ¡fico lo destruyo para regenerarlo
      if (myChart) {
        myChart.destroy();
      }

      // datos fake para la demo
      const data = [12, 19, 3, 5, 2, 3];
      const colors = ['#ff6384', '#36a2eb', '#cc65fe', '#ffce56', '#00ff99', '#ff9933'];

      myChart = new Chart(ctx, {
        type: 'doughnut',
        data: {
          labels: ['Rojo', 'Azul', 'Morado', 'Amarillo', 'Verde', 'Naranja'],
          datasets: [{
            data: data,
            backgroundColor: colors,
            borderWidth: 2
          }]
        },
        options: {
          responsive: true,
          plugins: { legend: { position: 'bottom' } },
          cutout: '60%' // achica el cÃ­rculo interior
        }
      });

      // mostrar brawler random en el centro
      const randomBrawler = brawlers[Math.floor(Math.random() * brawlers.length)];
      brawlerImage.src = randomBrawler;
      brawlerImage.style.display = "block";
    }

    function limpiar() {
      if (myChart) {
        myChart.destroy();
      }
      brawlerImage.style.display = "none";
    }

    function compartir() {
      if (navigator.share) {
        navigator.share({
          title: 'Calculadora Brawl',
          text: 'Mira esta calculadora de skins y valores en Brawl!',
          url: window.location.href
        }).catch(console.error);
      } else {
        alert("Tu navegador no soporta la API de compartir.");
      }
    }

    document.getElementById("calcBtn").addEventListener("click", calcular);
    document.getElementById("clearBtn").addEventListener("click", limpiar);
    document.getElementById("shareBtn").addEventListener("click", compartir);
  </script>
</body>
</html>
