<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mi Doughnut Brawl Stars</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
  body { position: relative; }
  #brawlerImg { display: none; } /* Se mostrará cuando se posicione */
</style>
</head>
<body>

<canvas id="myChart" width="400" height="400"></canvas>
<img id="brawlerImg" src="brawler.png" alt="Brawler Central">

<script>
  // --- Tu código original del doughnut chart ---
  const ctx = document.getElementById('myChart').getContext('2d');
  const data = {
    labels: ['Leon', 'Spike', 'Bea', 'Colt'],
    datasets: [{
      data: [10, 20, 30, 40],
      backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0'],
      hoverOffset: 4
    }]
  };
  const config = {
    type: 'doughnut',
    data: data,
    options: {
      cutout: '60%',
      responsive: true,
      plugins: {
        legend: { display: true }
      }
    }
  };
  const chart = new Chart(ctx, config);
  // --- Fin de tu código original ---

  // --- Solo añadimos esto para centrar el brawler ---
  function ajustarBrawlerCentral() {
    if(!chart) return;
    const canvas = document.getElementById('myChart');
    const img = document.getElementById('brawlerImg');

    const chartArea = chart.chartArea;
    const radius = (chartArea.right - chartArea.left) / 2;
    const cutoutPercent = parseFloat(chart.options.cutout) / 100 || 0.6;

    // Tamaño del brawler = diámetro del agujero central
    const holeDiameter = radius * 2 * cutoutPercent;
    img.style.width = img.style.height = holeDiameter + 'px';

    // Posicionar centrado
    img.style.position = 'absolute';
    img.style.top = canvas.offsetTop + radius + 'px';
    img.style.left = canvas.offsetLeft + radius + 'px';
    img.style.transform = 'translate(-50%, -50%)';
    img.style.display = 'block';
  }

  setTimeout(ajustarBrawlerCentral, 100);
  window.addEventListener('resize', ajustarBrawlerCentral);
</script>

</body>
</html>
