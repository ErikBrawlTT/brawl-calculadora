<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Calculadora Brawl Stars</title>
  <link href="https://fonts.googleapis.com/css2?family=Bangers&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      margin: 0;
      font-family: 'Bangers', cursive;
      background: url('Personajes-Brawl-Stars.webp') no-repeat center center fixed;
      background-size: cover;
      position: relative;
    }
    body::after {
      content: "";
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0,0,0,0.6);
      backdrop-filter: blur(6px);
      z-index: 0;
    }
    .container {
      position: relative;
      z-index: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      color: white;
      text-align: center;
    }
     h1 {
      font-size: 3rem;
      margin-bottom: 20px;
      background: linear-gradient(90deg, #00FFFF, #FF00FF, #FFD700);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }
    .diamond {
      font-size: 2.5rem;
      color: #00eaff;
      animation: glow 1.5s infinite alternate;
    }
    @keyframes glow {
      from { text-shadow: 0 0 5px #0ff, 0 0 10px #0ff; }
      to { text-shadow: 0 0 20px #0ff, 0 0 40px #0ff; }
    }
    form {
      background: rgba(0,0,0,0.5);
      border-radius: 20px;
      padding: 20px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.7);
      width: 90%;
      max-width: 600px;
    }
    label {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin: 10px 0;
      font-size: 1.2rem;
    }
    input {
      width: 100px;
      padding: 5px;
      border-radius: 8px;
      border: none;
      font-size: 1rem;
      text-align: center;
    }
    button {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 1.5rem;
      border: none;
      border-radius: 12px;
      background: linear-gradient(90deg, #ff0080, #7928ca);
      color: white;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 0 15px rgba(255,0,128,0.8);
    }
    button:hover {
      box-shadow: 0 0 25px rgba(255,0,128,1);
      transform: scale(1.05);
    }
    #resultado {
      margin-top: 20px;
      font-size: 1.5rem;
      color: #00FFAA;
      text-shadow: 2px 2px 4px #000;
    }
    canvas {
      margin-top: 20px;
    }
    .visitas {
      margin-top: 30px;
      font-size: 1.4rem;
      color: #FFD700;
      text-shadow: 2px 2px 5px #000;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1><span class="diamond">üíé</span> Calculadora Brawl Stars <span class="diamond">üíé</span></h1>
    <form id="calcForm">
      <label>üéüÔ∏è Brawl Pass: <input type="number" id="bpass" value="0"></label>
      <label>üëï Skins Comunes: <input type="number" id="comunes" value="0"></label>
      <label>üíö Skins Raras: <input type="number" id="raras" value="0"></label>
      <label>üíú Skins √âpicas: <input type="number" id="epicas" value="0"></label>
      <label>‚ù§Ô∏è Skins M√≠ticas: <input type="number" id="miticas" value="0"></label>
      <label>üåü Skins Legendarias: <input type="number" id="legendarias" value="0"></label>
      <label>‚ö° Skins Hipercarga: <input type="number" id="hipercarga" value="0"></label>
      <label>üî• Brawlers Maxeados: <input type="number" id="maxeados" value="0"></label>
      <button type="button" onclick="calcular()">Calcular</button>
    </form>
    <div id="resultado">Valor total: 0 ‚Ç¨</div>
    <canvas id="myChart" width="400" height="400"></canvas>

    <!-- Contador de visitas -->
    <div class="visitas">
      üëÄ Visitas: <span id="visitas">0</span>
    </div>
  </div>
  // Contador de visitas con CountAPI
    fetch('https://api.countapi.xyz/hit/calculadora-brawl/vercel')
      .then(response => response.json())
      .then(data => {
        document.getElementById('visitas').innerText = data.value;
      })
      .catch(err => console.error("Error contador:", err));
  </script>

  <script>
    let chart;
    function calcular() {
      const valores = {
        "üéüÔ∏è Brawl Pass": document.getElementById("bpass").value * 10,
        "üëï Comunes": document.getElementById("comunes").value * 2,
        "üíö Raras": document.getElementById("raras").value * 5,
        "üíú √âpicas": document.getElementById("epicas").value * 10,
        "‚ù§Ô∏è M√≠ticas": document.getElementById("miticas").value * 12,
        "üåü Legendarias": document.getElementById("legendarias").value * 15,
        "‚ö° Hipercarga": document.getElementById("hipercarga").value * 20,
        "üî• Maxeados": document.getElementById("maxeados").value * 50
      };
      const total = Object.values(valores).reduce((a,b) => a+b, 0);
      document.getElementById("resultado").innerText = "Valor total: " + total + " ‚Ç¨";

      const data = {
        labels: Object.keys(valores),
        datasets: [{
          data: Object.values(valores),
          backgroundColor: [
            "#1E90FF", // Brawl Pass
            "#CCCCCC", // Comunes
            "#00FF00", // Raras
            "#800080", // √âpicas
            "#FF0000", // M√≠ticas
            "#FFD700", // Legendarias
            "#FF8C00", // Hipercarga
            "#FF1493"  // Maxeados
          ],
          borderColor: "#111",
          borderWidth: 2
        }]
      };

      if (chart) {
        chart.destroy();
      }
      const ctx = document.getElementById("myChart").getContext("2d");
      chart = new Chart(ctx, {
        type: "doughnut",
        data: data,
        options: {
          plugins: {
            legend: {
              labels: {
                color: "white",
                font: { size: 14 }
              }
            }
          }
        }
      });
    }

    // Contador de visitas con CountAPI
    fetch('https://api.countapi.xyz/hit/calculadora-brawl/vercel')
      .then(response => response.json())
      .then(data => {
        document.getElementById('visitas').innerText = data.value;
      })
      .catch(err => console.error("Error contador:", err));
  </script>
</body>
</html>
