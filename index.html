<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Calculadora Brawl Stars</title>
<link href="https://fonts.googleapis.com/css2?family=Bangers&family=Orbitron:wght@700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
<style>
/* --- TODO IGUAL A TU CÓDIGO, NO SE TOCA --- */
</style>
</head>
<body>
<div class="container">
  <h1><span class="diamond">💎</span> Calculadora Brawl Stars <span class="diamond">💎</span></h1>
  <form id="calcForm">
    <label>🎟️ Brawl Pass: <input type="number" id="bpass" value="0"></label>
    <label>🩵 Comunes: <input type="number" id="comunes" value="0"></label>
    <label>💚 Raras: <input type="number" id="raras" value="0"></label>
    <label>💜 Épicas: <input type="number" id="epicas" value="0"></label>
    <label>❤️ Míticas: <input type="number" id="miticas" value="0"></label>
    <label>🌟 Legendarias: <input type="number" id="legendarias" value="0"></label>
    <label>⚡ Hipercarga: <input type="number" id="hipercarga" value="0"></label>
    <label>🔥 Maxeados: <input type="number" id="maxeados" value="0"></label>
  </form>

  <!-- Contador global de visitas -->
  <div class="visitas">👀 Visitas: <span id="visitas">0</span></div>

  <!-- Botones de Like / Dislike -->
  <div class="likeDislikeContainer">
    <div>
      <button type="button" class="like" onclick="sumarLike()">❤️</button>
      <div>Likes: <span id="likes">0</span></div>
    </div>
    <div>
      <button type="button" class="dislike" onclick="sumarDislike()">👎</button>
      <div>No me gusta: <span id="dislikes">0</span></div>
    </div>
  </div>

  <div class="buttons">
    <button id="calcBtn" type="button">Calcular</button>
    <button id="clearBtn" type="button">Limpiar</button>
  </div>
  <button id="shareBtn" type="button">📤 Compartir</button>
  <div id="resultado">Valor total: 0 €</div>

  <div style="position:relative; display:inline-block;">
    <canvas id="myChart" width="400" height="400"></canvas>
    <div id="centerDiamond">
      <img id="brawlerImg" src="https://raw.githubusercontent.com/ErikBrawlTT/brawl-calculadora/main/Brawlers/elprimo.png" alt="Brawler">
    </div>
  </div>
</div>

<script>
// ========== CONTADORES ==========

// Contador global de visitas
async function contarVisita() {
  const res = await fetch("https://api.countapi.store/hit/brawl-calculadora/visitas");
  const data = await res.json();
  document.getElementById("visitas").innerText = data.value;
}

// Contadores Likes / Dislikes
async function cargarContadores() {
  const likesRes = await fetch("https://api.countapi.store/get/brawl-calculadora/likes");
  const likesData = await likesRes.json();
  document.getElementById("likes").innerText = likesData.value || 0;

  const dislikesRes = await fetch("https://api.countapi.store/get/brawl-calculadora/dislikes");
  const dislikesData = await dislikesRes.json();
  document.getElementById("dislikes").innerText = dislikesData.value || 0;
}
async function sumarLike() {
  const res = await fetch("https://api.countapi.store/hit/brawl-calculadora/likes");
  const data = await res.json();
  document.getElementById("likes").innerText = data.value;
}
async function sumarDislike() {
  const res = await fetch("https://api.countapi.store/hit/brawl-calculadora/dislikes");
  const data = await res.json();
  document.getElementById("dislikes").innerText = data.value;
}

// Inicializar contadores
contarVisita();
cargarContadores();

// ========== EL RESTO DE TU CÓDIGO ORIGINAL TAL CUAL ==========
</script>
</body>
</html>
