<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Brawl Calculadora</title>
<style>
  body { font-family: Arial, sans-serif; background:#111; color:#fff; text-align:center; margin:0; padding:20px;}
  h1 { display:flex; justify-content:center; align-items:center; gap:10px; font-size:2em; }
  .diamond { font-size:1.5em; animation: glow 2s infinite alternate; }
  @keyframes glow {
    0% { text-shadow:0 0 5px #fff;}
    50% { text-shadow:0 0 15px #ff0;}
    100% { text-shadow:0 0 5px #fff;}
  }
  #buttons { margin:20px; }
  button { margin:5px; padding:10px 20px; font-size:16px; cursor:pointer; }
  #centerDiamond { position:absolute; font-size:40px; top:50%; left:50%; transform:translate(-50%, -50%); display:none; }
  #donut { width:200px; height:200px; border-radius:50%; background:conic-gradient(red 0% 0%, blue 0% 0%, green 0% 0%); margin:20px auto; position:relative; }
  #visits { margin-top:10px; }
</style>
</head>
<body>

<h1>
  <span class="diamond" style="color:rgb(255,100,200)">ðŸ’Ž</span>
  Brawl Calculadora
  <span class="diamond" style="color:rgb(100,200,255)">ðŸ’Ž</span>
</h1>

<div id="donut"></div>
<div id="centerDiamond">ðŸ’Ž</div>

<div id="buttons">
  <button onclick="calcular()">Calcular</button>
  <button onclick="limpiar()">Limpiar</button>
</div>

<button id="shareBtn" style="margin-top:15px; padding:10px 20px;">Compartir</button>

<div id="resultado">
  <p>Valor total: <span id="valorTotal" style="color:green">0</span></p>
  <p id="visits">Visitas: <span id="visitCount">0</span></p>
</div>

<script>
// Donut de ejemplo y diamante central
function calcular() {
  // ejemplo de colores de skin
  const colores = ['#ff00ff','#00ffff','#00ff00','#ff9900'];
  let valores = [30,40,50,80]; // ejemplo
  let total = valores.reduce((a,b)=>a+b,0);
  document.getElementById('valorTotal').textContent = total;

  // Generar donut
  let deg=0;
  let donut = document.getElementById('donut');
  let css = 'conic-gradient(';
  for(let i=0;i<valores.length;i++){
    let angle = (valores[i]/total)*360;
    css += `${colores[i]} ${deg}deg ${deg+angle}deg,`;
    deg+=angle;
  }
  css = css.slice(0,-1)+')';
  donut.style.background = css;

  mostrarDiamanteCentral();
}

// AnimaciÃ³n diamante central
function animateDiamond() {
  const diamond = document.getElementById("centerDiamond");
  let angle = 0;
  let dx = 1.5, dy = 1.2;
  let posX = 0, posY = 0;
  const maxOffset = 30;

  function rgbColor() {
    const r = Math.floor(Math.random()*256);
    const g = Math.floor(Math.random()*256);
    const b = Math.floor(Math.random()*256);
    return `rgb(${r},${g},${b})`;
  }

  function frame() {
    angle += 2;
    diamond.style.transform = `translate(-50%, -50%) rotate(${angle}deg) translate(${posX}px, ${posY}px)`;
    posX += dx; posY += dy;
    if(Math.abs(posX) > maxOffset) dx = -dx;
    if(Math.abs(posY) > maxOffset) dy = -dy;
    diamond.style.color = rgbColor();
    requestAnimationFrame(frame);
  }

  frame();
}

function mostrarDiamanteCentral() {
  const diamond = document.getElementById("centerDiamond");
  diamond.style.display = "block";
  animateDiamond();
}

function limpiar() {
  document.getElementById('donut').style.background='conic-gradient(transparent 0deg 360deg)';
  document.getElementById('centerDiamond').style.display='none';
  document.getElementById('valorTotal').textContent='0';
}

// Contador de visitas (simulado)
let visits = parseInt(localStorage.getItem('visits')) || 0;
visits++;
localStorage.setItem('visits', visits);
document.getElementById('visitCount').textContent = visits;

// Google Analytics
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
 m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.googletagmanager.com/gtm.js?id=GTM-5NWMXWTH','ga');

ga('create', 'GTM-5NWMXWTH', 'auto');
ga('send', 'pageview');
</script>

</body>
</html>
